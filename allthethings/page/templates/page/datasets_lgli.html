{% extends "layouts/index.html" %}
{% import 'macros/shared_links.j2' as a %}

{% block title %}{{ gettext('page.datasets.title') }} â–¶ {{ gettext('page.datasets.libgen_li.title') }} [lgli]{% endblock %}

{% set dbdumps_https = (dict(href="https://libgen.li/dirlist.php?dir=dbdumps") | xmlattr) %}
{% set dbdumps_ftp = (dict(href="ftp://ftp.libgen.lc/upload/db") | xmlattr) %}
{% set libgen_new_db_structure = (dict(href="https://libgen.li/community/app.php/article/new-database-structure-published-oÏ€y6Ğ»Ğ¸Ä¸oĞ²aĞ½a-Ğ½oĞ²aÑ-cÑ‚pyÄ¸Ñ‚ypa-6aĞ·Æ…i-Ğ´aĞ½Ğ½Æ…ix") | xmlattr) %}

{% block body %}
  <div class="mb-4"><a href="/datasets">{{ gettext('page.datasets.title') }}</a> â–¶ {{ gettext('page.datasets.libgen_li.title') }} [lgli]</div>

  <div class="mb-4 p-2 overflow-hidden bg-black/5 break-words">
    {{ gettext('page.datasets.common.intro', a_archival=(a.faqs_what | xmlattr), a_llm=(a.llm | xmlattr)) }}
  </div>

  <div class="mb-4 p-2 overflow-hidden bg-black/5 break-words">
    <div class="text-xs mb-2">Overview from <a href="/datasets">datasets page</a>.</div>
    <table class="w-full mx-[-8px]">
      <tr class="even:bg-[#f2f2f2]">
        <th class="p-2 align-bottom text-left" width="20%">{{ gettext('page.datasets.sources.source.header') }}</th>
        <th class="p-2 align-bottom text-left" width="40%">{{ gettext('page.datasets.sources.metadata.header') }}</th>
        <th class="p-2 align-bottom text-left" width="40%">{{ gettext('page.datasets.sources.files.header') }}</th>
      </tr>

      <tr class="even:bg-[#f2f2f2]">
        <td class="p-2 align-top">
          <a class="custom-a underline hover:opacity-60" href="/datasets/lgli">
            {{ gettext('common.record_sources_mapping.lgli') }} [lgli]
          </a>
        </td>
        <td class="p-2 align-top">
          <div class="my-2 first:mt-0 last:mb-0">
            {{ gettext('page.datasets.sources.libgen_li.metadata1', icon='âœ…',
                dbdumps=(dict(href="https://libgen.li/dirlist.php?dir=dbdumps") | xmlattr),
            ) }}
          </div>
        </td>
        <td class="p-2 align-top">
          <div class="my-2 first:mt-0 last:mb-0">
            {{ gettext('page.datasets.sources.libgen_li.files1', icon='âœ…',
                libgenli=(dict(href="https://libgen.li/torrents/libgen/") | xmlattr),
            ) }}
          </div>
          <div class="my-2 first:mt-0 last:mb-0">
            <!-- TODO:TRANSLATE -->
            ğŸ‘©â€ğŸ’» Annaâ€™s Archive and Libgen.li collaboratively manage collections of <a {{ dict(href="/torrents#libgen_li_comics") | xmlattr }}>comic books</a>, <a {{ dict(href="/torrents#libgen_li_magazines") | xmlattr }}>magazines</a>, <a {{ dict(href="/torrents#libgen_li_standarts") | xmlattr }}>standard documents</a>, and <a {{ dict(href="/torrents#libgen_li_fiction") | xmlattr }}>fiction (diverged from Libgen.rs)</a>.
          </div>
          <div class="my-2 first:mt-0 last:mb-0">
            <!-- TODO:TRANSLATE -->
            ğŸ™ƒ Their â€œfiction_rusâ€ collection (Russian fiction) has no dedicated torrents, but is covered by torrents from others, and we keep a <a {{ dict(href="/torrents#libgen_li_fiction_rus") | xmlattr }}>mirror</a>.
          </div>
        </td>
      </tr>
    </table>
  </div>

  <p class="mb-4">
    {{ gettext('page.datasets.libgen_li.description1', a_libgen_rs=(dict(href="/datasets/lgrs") | xmlattr)) }}
  </p>
  
  <p class="mb-4">
    {{ gettext('page.datasets.libgen_li.description3', a_libgen_li=dbdumps_https, a_ftp=dbdumps_ftp) }}
  </p>
  
  <p class="mb-4">
    {{ gettext('page.datasets.libgen_li.description2', a_scihub=(dict(href="/datasets/scihub") | xmlattr)) }} 
  </p>
    
  <p class="mb-4">
    <!-- TODO:TRANSLATE -->
    Torrents are available for most of the additional content, most notably torrents for comics, magazines, and standard documents have been released in collaboration with Annaâ€™s Archive. The fiction collection has its own torrents (divergent from <a {{ dict(href="/datasets/lgrs") | xmlattr}}>Libgen.rs</a>) starting at <code>f_2201000.torrent</code>. According to the Libgen.li administrator, the â€œfiction_rusâ€ (Russian fiction) collection should be covered by regularly released torrents from <a href="https://booktracker.org/index.php?c=18">booktracker.org</a>, most notably the <a href="https://flibusta.is/">flibusta</a> and <a href="https://lib.rus.ec/">lib.rus.ec</a> torrents (which we mirror <a href="/torrents#libgen_li_fiction_rus">here</a>, though we haven't yet established which torrents correspond to which files). Statistics for all collections can be found <a href="https://libgen.li/stat.php">here</a>.
  </p>

  <p class="mb-4">
    <!-- TODO:TRANSLATE -->
    Certain ranges without torrents (such as fiction ranges f_3463000 to f_4260000) are likely Z-Library (or other duplicate) files, though we might want to do some deduplication and make torrents for lgli-unique files in these ranges.
  </p>
  
  <p class="mb-4">
    {{ gettext('page.datasets.libgen_li.description5', a_libgen=(dict(href="/datasets/lgrs") | xmlattr)) }}
  </p>
  
  <p class="mb-4">
    {{ gettext('page.datasets.libgen_li.description6', a_href=libgen_new_db_structure) }}
  </p>

  <p class="font-bold">{{ gettext('page.datasets.common.resources') }}</p>
  <ul class="list-inside mb-4 ml-1">
    <li class="list-disc">{{ gettext('page.datasets.common.total_files', count=(stats_data.stats_by_group.lgli.count | numberformat)) }}</li>
    <li class="list-disc">{{ gettext('page.datasets.common.total_filesize', size=(stats_data.stats_by_group.lgli.filesize | filesizeformat)) }}</li>
    <li class="list-disc">{{ gettext('page.datasets.common.mirrored_file_count', count=(stats_data.stats_by_group.lgli.aa_count | numberformat), percent=((stats_data.stats_by_group.lgli.aa_count/(stats_data.stats_by_group.lgli.count+1)*100.0) | decimalformat)) }}</li>
    <li class="list-disc">{{ gettext('page.datasets.common.last_updated', date=stats_data.libgenli_date) }}</li>
    <li class="list-disc"><a href="/torrents#libgen_li_fic">{{ gettext('page.datasets.libgen_li.fiction_torrents') }}</a></li>
    <li class="list-disc"><a href="/torrents#libgen_li_comics">{{ gettext('page.datasets.libgen_li.comics_torrents') }}</a></li>
    <li class="list-disc"><a href="/torrents#libgen_li_magazines">{{ gettext('page.datasets.libgen_li.magazines_torrents') }}</a></li>
    <!-- TODO:TRANSLATE -->
    <li class="list-disc"><a href="/torrents#libgen_li_standarts">Standard document torrents on Annaâ€™s Archive</a></li>
    <li class="list-disc"><a href="/torrents#libgen_li_fiction_rus">Russian fiction torrents on Annaâ€™s Archive</a></li>
    <li class="list-disc"><a href="/db/raw/lgli/4663167.json">{{ gettext('page.datasets.common.aa_example_record') }}</a></li>
    <li class="list-disc"><a href="https://libgen.li/">{{ gettext('page.datasets.common.main_website', source=gettext('page.datasets.libgen_li.title')) }}</a></li>
    <li class="list-disc"><a {{ dbdumps_https }}>{{ gettext('page.datasets.libgen_li.link_metadata') }}</a></li>
    <li class="list-disc"><a {{ dbdumps_ftp }}>{{ gettext('page.datasets.libgen_li.link_metadata_ftp') }}</a></li>
    <li class="list-disc"><a {{ libgen_new_db_structure }}>{{ gettext('page.datasets.libgen_li.metadata_structure') }}</a></li>
    <li class="list-disc"><a href="https://libgen.li/torrents/">{{ gettext('page.datasets.libgen_li.mirrors') }}</a></li>
    <li class="list-disc"><a href="https://libgen.li/community/">{{ gettext('page.datasets.libgen_li.forum') }}</a></li>
    <li class="list-disc"><a href="https://annas-archive.li/blog/backed-up-the-worlds-largest-comics-shadow-lib.html">{{ gettext('page.datasets.libgen_li.comics_announcement') }}</a></li>
    <li class="list-disc"><a href="https://software.annas-archive.li/AnnaArchivist/annas-archive/-/tree/main/data-imports">{{ gettext('page.datasets.common.import_scripts') }}</a></li>
    <li class="list-disc"><a href="https://annas-archive.li/blog/annas-archive-containers.html">{{ gettext('page.datasets.common.aac') }}</a></li>
  </ul>
{% endblock %}
